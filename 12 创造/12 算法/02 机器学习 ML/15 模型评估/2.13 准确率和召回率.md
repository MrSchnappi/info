---
title: 2.13 准确率和召回率
toc: true
date: 2019-08-27
---


### 2.16.10 查准率与查全率

将算法预测的结果分成四种情况：

1. 正确肯定（True Positive,TP）：预测为真，实际为真
2. 正确否定（True Negative,TN）：预测为假，实际为假
3. 错误肯定（False Positive,FP）：预测为真，实际为假
4. 错误否定（False Negative,FN）：预测为假，实际为真

则：

查准率（Precision）=TP/（TP+FP）

**理解**：预测出为阳性的样本中，正确的有多少。区别准确率（正确预测出的样本，包括正确预测为阳性、阴性，占总样本比例）。
例，在所有我们预测有恶性肿瘤的病人中，实际上有恶性肿瘤的病人的百分比，越高越好。

查全率（Recall）=TP/（TP+FN）

**理解**：正确预测为阳性的数量占总样本中阳性数量的比例。
例，在所有实际上有恶性肿瘤的病人中，成功预测有恶性肿瘤的病人的百分比，越高越好。




#### 为什么需要准确率和召回率？

错误率和精度虽然常用，但是并不能满足所有任务需求。

比如：

假定瓜农拉来一车西瓜，我们用训练好的模型对这些西瓜进行判别，显然，错误率只能衡量了有多少比例的瓜被判别错误，但是如果我们关心的是 “挑出的西瓜中有多少比例是好瓜” 或者 “所有好瓜中有多少比例被挑了出来”，那么错误率就不够用了，这时我们就需要使用其他的性能度量。<span style="color:red;">是的。</span>

类似的需求在信息检索、Web搜索等应用中其实经常出现，比如：在信息检索 中，我们经常会关心 “检索出的信息中有多少比例是用户感兴趣的” ，“用户感兴趣的信息中有多少被检索出来了”。这些是错误率表达不出来的。<span style="color:red;">是的。</span>

OK，因此，我们就有了：查准率 ( 准确率 ，precision ) 与 查全率 ( 召回率，recall) 。<span style="color:red;">注意：这里是准确率与上面介绍的精度是区别的。</span>

#### 以二分类问题为例

我们以二分类问题为例：

我们可以将样例根据其真实类别与学习器预测类别的组合划分为：

* 真正例 (true positive)   个数：TP
* 假正例 (false positive)  个数：FP
* 真反例 (true negative)   个数：TN
* 假反例 (false negative)  个数：FN

显然：TP+FP+TN+FN =样例总数 。

分类结果的 “混淆矩阵” (confusion matrix) 如下表所示：<span style="color:red;">为什么叫混淆矩阵呢？</span>

<center>

![](http://images.iterate.site/blog/image/180713/Jgd259IDfG.png?imageslim){ width=55% }

</center>


OK，那么查准率 P 与查全率 R 的定义为 ：

$$
P=\frac{T P}{T P+F P}
$$

$$
R=\frac{T P}{T P+F N}
$$

#### 准确率与召回率的关系

查准率和查全率是一对矛盾的度量。一般来说，查准率高时，查全率往往偏低；而查全率高时，查准率往往偏低。

例如：

* 如果我们希望将好瓜尽可能多地选出来， 那么可以通过增加选瓜的数量来实现，如果将所有西瓜都选上，那么所有的好瓜也必然都被选上了，但是这样的查准率就会较低。

* 如果我们希望选出的瓜中好瓜比例尽可能的高，那么我们就可以只挑选最有把握的瓜，但是这样就难免会漏掉不少好瓜，使得查全率较低。

通常只有在一些简单任务中，才可能使得查全率和查准率都很高。<span style="color:red;">嗯，好吧 看来还是有可能都高的。</span>

<span style="color:red;">那么这种矛盾的情况怎么解决呢？</span>
