---
title: 16 MegDet
toc: true
date: 2018-09-22
---
# MegDet

基于 CNN 的物体检测研究一直在不断进步，从 R-CNN 到 Fast/Faster R-CNN，再 Mask R-CNN，主要的改进点都在于新的网络架构、新的范式、或者新的损失函数设计，然而 mini-batch 大小，这个训练中的关键因素并没有得到完善的研究。


由于输入图片尺寸的增长，图像检测所需显存量也会同比例增长，这也使得已有的深度学习框架无法训练大 mini-batch 的图像检测模型，而小 mini-batch 的物体检测算法又常常会引入不稳定的梯度、BN层统计不准确、正负样本比例失调以及超长训练时间的问题。因此，2017年 12 月 Face++ 提出一种大 mini-batch 的目标检测算法 MegDet。


MegDet算法可以使用远大于以往的 mini-batch大小训练网络（比如从 16 增大到 256），这样同时也可以高效地利用多块 GPU 联合训练（在论文的实验中最多使用了 128 块 GPU），大大缩短训练时间。同时解决了 BN 统计不准确的问题，也提出了一种学习率选择策略以及跨 GPU 的 Batch Normalization方法，两者共同使用就得以大幅度减少大 mini-batch物体检测器的训练时间（比如从 33 小时减少到仅仅 4 个小时），同时还可以达到更高的准确率。
