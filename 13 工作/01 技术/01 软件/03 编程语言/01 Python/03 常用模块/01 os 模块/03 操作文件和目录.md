# 操作文件和目录

- 操作文件和目录的函数一部分放在 `os` 模块中，一部分放在 `os.path` 模块中。

举例：

```py
import os

print(os.path.abspath('.')) # 查看当前目录的绝对路径:
print(os.path.dirname('d:\\library\\book.txt'))
print(os.path.basename('d:\\library\\book.txt'))
print(os.path.join('d:\\library','book.txt'))
print(os.path.split('d:\\library\\book.txt'))
print(os.path.splitdrive('d:\\library\\book.txt'))
print(os.path.splitext('d:\\library\\book.txt'))
print(os.path.splitext('book.txt'))

print(os.mkdir('/testdir'))
print(os.rmdir('/testdir'))
print(os.rename('test.txt', 'test.py'))# 对文件重命名:
print(os.remove('test.py'))# 删掉文件:
print(os.removedirs('/testdir')) # 递归删除文件夹

import shutil
print(shutil.rmtree('/testdir')) # 递归删除文件或文件夹

print([x for x in os.listdir('.') if os.path.isdir(x)]) # 列出当前目录下的所有目录
print([x for x in os.listdir('.') if os.path.isfile(x) and os.path.splitext(x)[1]=='.py']) #列出所有的`.py`文件
```

输出：

```txt
D:\21.Practice\demo
d:\library
book.txt
d:\library\book.txt
('d:\\library', 'book.txt')
('d:', '\\library\\book.txt')
('d:\\library\\book', '.txt')
('book', '.txt')
None
None
None
None
None
None
['.idea', 'data']
['d.py', 'f.py', 's.py', 't.py']
```


说明：


- 操作文件和目录的函数一部分放在`os`模块中，一部分放在`os.path`模块中，这一点要注意一下。
- `os.path`:
  - `dirname()`   用于去掉文件名，返回目录所在的路径
  - `basename()`   用于去掉目录的路径，只返回文件名
  - `join()`   用于将分离的各部分组合成一个路径名 <span style="color:red;">到底中间的 `\` 是会自动去掉的吗？</span> 通过`os.path.join()`函数，可以正确处理不同操作系统的路径分隔符。
  - `split()`  用于返回目录路径和文件名的元组
  - `splitdrive()`    用于返回盘符和路径字符元组
  - `splitext()`    用于返回文件名和扩展名元组

