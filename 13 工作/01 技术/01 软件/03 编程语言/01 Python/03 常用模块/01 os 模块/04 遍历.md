# 遍历

## 使用 os.walk

- 遍历文件夹中的所有子文件夹及子文件

语法：

- `os.walk(top[, topdown=True[, onerror=None[, followlinks=False]]])`
  - top – 根目录下的每一个文件夹(包含它自己), 产生 3-元组 (dirpath, dirnames, 
  filenames)【文件夹路径, 文件夹名字, 文件名】。
  - topdown –可选，为 True 或者没有指定, 一个目录的的 3-元组将比它的任何子文件夹的 3-元组先产生 
  (目录自上而下)。如果 topdown 为 False, 一个目录的 3-元组将比它的任何子文件夹的 3-元组后产生 (目录自下而上)。
  - onerror – 可选，是一个函数; 它调用时有一个参数, 一个 OSError 实例。报告这错误后，继续 walk，或者抛出 exception 终止 walk。
  - followlinks – 设置为 true，则通过软链接访问目录。


举例：

```py
import os

g = os.walk(r"./")
for path, dir_list, file_list in g:
    for file_name in file_list:
        print(os.path.join(path, file_name))

g = os.walk("./")
for path, dir_list, file_list in g:
    for dir_name in dir_list:
        print(os.path.join(path, dir_name))
```

输出：

```txt
./a.png
./b.png
./d.py
./dump.json
./dump.txt
./f.py
./requirements.txt
./s.py
./t.py
./.idea\demo.iml
./.idea\misc.xml
./.idea\modules.xml
./.idea\workspace.xml
./.idea\inspectionProfiles\profiles_settings.xml
./data\faces\0805personali01.jpg
./data\faces\person_TjahjonoDGondhowiardjo.jpg
./.idea
./data
./.idea\inspectionProfiles
./data\cifar-10-batches-py
./data\faces
```

## 递归修改文件名

举例：

- 把 .markdown 后缀的文件都改为 .md 后缀的。

```py
import os

def modify_filename(path):
    for p in os.listdir(path):
        p = os.path.join(path, p)
        if os.path.isdir(p):
            modify_filename(p)
        else:
            os.rename(p, os.path.join(os.path.dirname(p), os.path.basename(p).replace('markdown', 'md')))

modify_filename("C://Users//evo//Desktop//iterate")
```