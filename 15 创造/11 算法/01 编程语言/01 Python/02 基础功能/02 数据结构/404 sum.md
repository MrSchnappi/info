---
title: 404 sum
toc: true
date: 2018-08-04 12:56:36
---
# sum

## 简单的 sum 操作

如下：

```py
print(sum([1,2,3,4]))
print(sum([1,2,3,4],0))
print(sum([1,2,3,4],5))
```

输出：

```
10
10
15
```

## 用来合并 list

将一个二元列表，综合成一个一元列表。 比如:`[[1],[2,3],[4,5,6]]`，将其转成`[1, 2, 3, 4, 5, 6]`.


如下：

```py
a=[[1],[2,3],[4,5,6]]
print(sum(a,[]))
```

输出：

```
[1, 2, 3, 4, 5, 6]
```

说明：

- sum 的首个参数为可迭代的列表，第二个参数为初始值，初始值默认为0，也可以为其他值，比如说空列表`[]`。而在Python里面，一种操作到底做何操作取决于对象本身，比如说同样是 `+`，如果两者都是数字 `1+1=2`，如果两者都是字符串，则 `'1'+'1'='11'`。**所以如果这里的 start 本身为`[]`，则会执行列表合并的操作，也就达到目的了。**

其他方法：

```py
a=[[1],[2,3],[4,5,6]]
l=[item for lst in a for item in lst]
print(l)

from functools import reduce
l=reduce(lambda x,y:x+y,a)
print(l)

import re
l=[int(i) for i in re.findall(r'\d+',str(a))]
print(l)
```

输出：

```
[1, 2, 3, 4, 5, 6]
[1, 2, 3, 4, 5, 6]
[1, 2, 3, 4, 5, 6]
```

说明：

- 第一个用嵌套列表推导，第二个用函数式编程，第三个用正则表达式。

注意：

- 第三种方法，**通过正则表达式的方式，对多元列表做综合处理的话，非常方便！**



## 类似的 sum 的使用

将列向量权重 `w=[[1],[2],[3]]`  转化成行向量。

之前不知道怎么转，只能一个一个遍历然后重新放到一个 list。现在就可以这样：

```py
a = [[1], [2], [3]]
b = sum(a, [])
print(b)
```

输出：

```
[1, 2, 3]
```

当然，如果是 `np.mat` 类型的矩阵，直接用 `transpose()` 或者 `.T` 就可以转换。
