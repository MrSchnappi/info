---
title: 03 连续字列表的最大和
toc: true
date: 2019-07-01
---

10.3 连续子列表的最大和
我们的任务是在一个列表中找到连续子列表的最大和。列表中的数字可负可正，并且子列表不能为空。这个问题也是分治的一个经典问题。
10.3.1 解题思路
来看一个例子，如图 10.17所示，目的是找到以下列表的最大子列表的和：
图 10.17 列表
最大子列表有可能在左子列表、右子列表或左子列表与右子列表之间。我们需要做的是找到左子列表的最大子列表的和、右子列表的最大子列表的和、左子列表与右子列表之间的子列表的最大和，再进行比较。
图 10.18 三种可能
如何找到左子列表与右子列表的最大子列表的和呢？分治的想法是：让左子列表与右子列表的子列表回答这个问题就可以了，此时此刻不需要知道答案，只需要知道答案只有三种可能。
现在需要做的是找到第三种可能，也就是左子列表与右子列表之间的子列表的最大和。设一个中点，遍历中点左边的值，跟踪记录已遍历过的值的总和，取这些总和的最大值；遍历中点右边的值，跟踪记录已遍历过的值的总和，取这些总和的最大值。最后，左面的最大值加上右面的最大值加上中点值就是想要的值。通过上述方法，得到 6，也就是 4+（-1）+2+1。来看一下怎么用代码实现吧。
现在来找左子列表的最大和。如图 10.19所示，对待子列表的方式与对待列表的方式相同。还是有三个可能


值，第一个与第二个可能值暂时不关心，让左子列表的子列表解决。找到第三个可能值就可以了，利用上述方法得到 2:（-2）+1+（-3）+4。
图 10.19 左子列表的三种可能值
现在需要找到左子列表的左子列表的最大和。如图 10.20所示，第一种可能是-2，第二种可能是 1，第三种可能是-1，返回三者的最大值：1。
图 10.20 左子列表的左子列表的三种可能值
同理，左子列表的右子列表的返回值是 4。如图 10.21所示，左子列表的两个子列表返回对应的最大和，之前已经得出第三种可能值，所以现在可以进行比较。三种可能是：1、4、2，返回三者中的最大值：4。
图 10.21 得到左子列表的三种可能值
以同样的方式对待列表的右子列表，得到第二可能值：4。如图 10.22所示，最大值（答案）是 6，所以输出 6。
图 10.22 得到列表的三种可能值
10.3.2 最终代码
找到连续子列表的最大和的代码如代码 10.3所示。
代码 10.3 连续子列表的最大和


输出：
6
