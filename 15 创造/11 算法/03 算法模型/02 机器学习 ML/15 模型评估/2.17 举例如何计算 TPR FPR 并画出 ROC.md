---
title: 2.17 举例如何计算 TPR FPR 并画出 ROC
toc: true
date: 2019-09-03
---

### 2.16.13 举例如何计算 TPR，FPR 并画出 ROC

<span style="color:red;">例子很好，很清楚，补充到整体里面。</span>

1、分析数据

y_true = $[0, 0, 1, 1]$；scores = $[0.1, 0.4, 0.35, 0.8]$；

2、列表

| 样本 | 预测属于 P 的概率(score) | 真实类别 |
| ---- | ---------------------- | -------- |
| y[0] | 0.1                    | N        |
| y[1] | 0.4                    | N        |
| y[2] | 0.35                   | P        |
| y[3] | 0.8                    | P        |

3、将截断点依次取为 score 值，计算 TPR 和 FPR。

当截断点为 0.1时：

说明只要 score>=0.1，它的预测类别就是正例。 因为 4 个样本的 score 都大于等于 0.1，所以，所有样本的预测类别都为 P。

scores = $[0.1, 0.4, 0.35, 0.8]$；y_true = $[0, 0, 1, 1]$；y_pred = $[1, 1, 1, 1]$；

正例与反例信息如下：

|          | 正例 | 反例 |
| -------- | ---- | ---- |
| **正例** | TP=2 | FN=0 |
| **反例** | FP=2 | TN=0 |

由此可得：

TPR = TP/(TP+FN) = 1； FPR = FP/(TN+FP) = 1；

当截断点为 0.35时：

scores = $[0.1, 0.4, 0.35, 0.8]$；y_true = $[0, 0, 1, 1]$；y_pred = $[0, 1, 1, 1]$;

正例与反例信息如下：

|          | 正例 | 反例 |
| -------- | ---- | ---- |
| **正例** | TP=2 | FN=0 |
| **反例** | FP=1 | TN=1 |

由此可得：

TPR = TP/(TP+FN) = 1； FPR = FP/(TN+FP) = 0.5；

当截断点为 0.4时：

scores = $[0.1, 0.4, 0.35, 0.8]$；y_true = $[0, 0, 1, 1]$；y_pred = $[0, 1, 0, 1]$；

正例与反例信息如下：

|          | 正例 | 反例 |
| -------- | ---- | ---- |
| **正例** | TP=1 | FN=1 |
| **反例** | FP=1 | TN=1 |

由此可得：

TPR = TP/(TP+FN) = $0.5$； FPR = FP/(TN+FP) = $0.5$；

当截断点为 0.8时：

scores = $[0.1, 0.4, 0.35, 0.8]$；y_true = $[0, 0, 1, 1]$；y_pred = $[0, 0, 0, 1]$；

正例与反例信息如下：

|          | 正例 | 反例 |
| -------- | ---- | ---- |
| **正例** | TP=1 | FN=1 |
| **反例** | FP=0 | TN=2 |

由此可得：

TPR = TP/(TP+FN) = 0.5； FPR = FP/(TN+FP) = 0；

4、根据 TPR、FPR值，以 FPR 为横轴，TPR为纵轴画图。





# 相关

- [DeepLearning-500-questions](https://github.com/scutan90/DeepLearning-500-questions) 原文
