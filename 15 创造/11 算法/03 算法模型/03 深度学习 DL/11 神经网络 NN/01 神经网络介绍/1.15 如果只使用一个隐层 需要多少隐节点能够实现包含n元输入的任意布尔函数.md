---
title: 1.15 如果只使用一个隐层 需要多少隐节点能够实现包含n元输入的任意布尔函数
toc: true
date: 2019-08-31
---

## 如果只使用一个隐层，需要多少隐节点能够实现包含 $n$ 元输入的任意布尔函数？

包含 $n$ 元输入的任意布尔函数可以唯一表示为析取范式（Disjunctive Normal Form，DNF）（由有限个简单合取式构成的析取式）的形式。<span style="color:red;">什么是析取范式来着？怎么唯一表示为析取范式的？</span>


先看一个 $n=5$ 的简单示例

$$
\begin{aligned} Y=& X_{1} X_{2} X_{3} X_{4} X_{5}+X_{1} X_{2} X_{3} X_{4} X_{3}+X_{1} X_{2} X_{3} X_{4} X_{5}+\\ & X_{1} \overline{X_{2} X_{3} X_{4}} X_{5}+X_{1} \overline{X_{2}} X_{3} X_{4} X_{5}+X_{2} X_{2} \overline{X_{3} X_{4}} X_{5} \end{aligned}\tag{9.2}
$$


在式（9.2）中，最终的输出 $Y$ 可以表示成由 $6$ 个合取范式所组成的析取范式。该函数可由包含 $6$ 个隐节点的 $3$ 层感知机实现，如图 9.2所示，用多层感知机实现由 6 个合取范式组成的析取范式：

<center>

![](http://images.iterate.site/blog/image/20190413/bn87qu8tJ6Re.png?imageslim){ width=55% }

</center>


首先证明单个隐结点可以表示任意合取范式。

考虑任意布尔变量假设 $X_{i}$ ：

- 若它在合取范式中出现的形式为正（ $X_{i}$ ），则设权重为 $1$
- 若出现的形式为非（ $\overline{X}_i $），则设权重为 $-1$
- 若没有在合取范式中出现。设权重为 $0$
- 并且偏置设为合取范式中变量的总数取负之后再加 $1$

可以看出，当采用 ReLU 激活函数之后，当且仅当所有出现的布尔变量均满足条件时，该隐藏单元才会被激活（输出 $1$），否则输出 $0$ ，这与合取范式的定义的相符的。然后，令所有隐藏单元到输出层的参数为 $1$，并设输出单元的偏置为 $0$ 。这样，当且仅当所有的隐藏单元都未被激活时，才会输出 $0$ ，否则都将输出一个正数，起到了析取的作用。<span style="color:red;">嗯，是的。</span>

我们可以使用卡诺图表示析取式，即用网格表示真值表，当输入的合取式值为 $1$ 时，则填充相应的网格。卡诺图中相邻的填色区域可以进行规约，以达到化简布尔函数的目的，如图 9.3所示，由图可见，有 W、X、Y、Z 共 4 个布尔变量，WX 的取值组合在纵轴显示，YZ 的取值组合在横轴显示。7个填色网格最终可规约为 3 个合取式，故该函数可由包含 3 个隐节点的 3 层感知机实现：<span style="color:red;">嗯，可规约为 3 个合取式，这个地方没看懂。怎么规约的？</span>

<center>

![](http://images.iterate.site/blog/image/20190413/6S9Uq5UjkIYl.png?imageslim){ width=55% }

</center>

回顾初始问题：在最差情况下，需要多少个隐藏结点来表示包含 $n$ 元输入的布尔函数呢？现在问题可以转化为：寻找 “最大不可规约的” $n$ 元析取范式，也等价于最大不可规约的卡诺图。<span style="color:red;">是的。</span>

直观上，我们只需间隔填充网格即可实现，其表示的布尔函数恰为 $n$ 元输入的异或操作，如图 9.4 所示。容易看出，在间隔填充的网格上反转任意网格的取值都会引起一次规约，因此， $n$ 元布尔函数的析取范式最多包含 $2^{(n-1)}$ 个不可规约的合取范式，对于单隐层的感知机，需要 $2^{(n-1)}$ 个隐节点实现：<span style="color:red;">嗯。有些厉害。再理解下。</span>

<center>

![](http://images.iterate.site/blog/image/20190413/3wl4FVMtauoA.png?imageslim){ width=55% }

</center>



# 相关

- 《百面机器学习》

