---
title: 1.02 GAN 的目标函数
toc: true
date: 2019-09-03
---

### 7.1.3 GAN的目标函数是什么？

对于上述神经网络模型，如果想要学习其参数，首先需要一个目标函数。GAN的目标函数定义如下：


$$
\mathop {\min }\limits_G \mathop {\max }\limits_D V(D,G) = {\rm E}_{x\sim{p_{data}(x)}}[\log D(x)] + {\rm E}_{z\sim{p_z}(z)}[\log (1 - D(G(z)))]
$$

这个目标函数可以分为两个部分来理解：

1. 第一部分：判别器的优化通过 $\mathop {\max}\limits_D V(D,G)$ 实现，$V(D,G)$ 为判别器的目标函数：
    - 其第一项 ${\rm E}_{x\sim{p_{data}(x)}}[\log D(x)]$ 表示对于从真实数据分布 中采用的样本，其被判别器判定为真实样本概率的数学期望。<span style="color:red;">为什么是 log 的？</span>对于真实数据分布中采样的样本，其预测为正样本的概率当然是越接近 1 越好。因此希望最大化这一项。
    - 第二项 ${\rm E}_{z\sim{p_z}(z)}[\log (1 - D(G(z)))]$ 表示：对于从噪声 $P_z(z)​$ 分布当中采样得到的样本，经过生成器生成之后得到的生成图片，然后送入判别器，其预测概率的负对数的期望，这个值自然是越大越好，这个值越大， 越接近 0，也就代表判别器越好。
2. 第二部分：生成器的优化通过 $\mathop {\min }\limits_G({\mathop {\max }\limits_D V(D,G)})$ 来实现。注意，生成器的目标不是 $\mathop {\min }\limits_GV(D,G)$，即生成器不是最小化判别器的目标函数，而是最小化判别器目标函数的最大值，判别器目标函数的最大值代表的是真实数据分布与生成数据分布的 JS 散度(详情可以参阅附录的推导)，JS 散度可以度量分布的相似性，两个分布越接近，JS 散度越小。<span style="color:red;">判别器目标函数的最大值代表的是真实数据分布与生成数据分布的 JS 散度 是什么意思？什么是 JS 散度？为什么这个最大值是 JS 散度？</span>

<span style="color:red;">没有特别理解。</span>
