---
title: 1.02 如何设计人机交互系统的问答引擎算法架构
toc: true
date: 2019-09-04
---


# 如何设计人机交互系统的问答引擎算法架构？

人机交互系统中的核心是问答引擎，引擎架构设计的好坏直接影响整个系统的用户体验，地位就像人的大脑。

本章节介绍的问答引擎架构由预处理模块、检索模块、知识图谱、排序模块、用户画像组成。

<center>

![](http://images.iterate.site/blog/image/20190722/36NkoNVuVln3.jpg?imageslim){ width=55% }

</center>

> 架构图


检索模块如果能完全命中语料库答案则直接返回，不在经过排序。

ES检索和深度语义匹配是比较粗比较弱的召回模型，不用考虑用户问内部的相对顺序，也不用考虑用户问与匹配问之间的位置编码，ngram信息。精排解决这些问题，且有更强的拟合性，但精排涉及到效率问题，所以在此之前有实体对齐过滤一些明显不对的答案。

回答不了的问题可以坐意图澄清或者转移到另一个问题。

借鉴推荐系统的思想：

1.粗排阶段根据用户长期兴趣画像召回相关度较高的答案，同时减轻精排阶段的压力

2.精排阶段则根据粗排召回的答案列表，通过离线训练好的排序模型预测 CTR，最终下发前 Top N 个答案作为推荐结果。





# 相关

- [DeepLearning-500-questions](https://github.com/scutan90/DeepLearning-500-questions)
